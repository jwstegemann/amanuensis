#! /bin/bash

curl -XDELETE 'http://6llvafxy:snjwm1wszy5mnwgf@redwood-8816963.us-east-1.bonsai.io:80/stories'

curl -XPUT 'http://6llvafxy:snjwm1wszy5mnwgf@redwood-8816963.us-east-1.bonsai.io:80/stories'

curl -XPUT "http://6llvafxy:snjwm1wszy5mnwgf@redwood-8816963.us-east-1.bonsai.io:80/stories/story/_mapping" -d'
{
  "story": {
    "properties": {
      "id": {          
        "type": "string",
        "store": "no",
        "index": "no"
      },        
      "title": {          
        "type": "string",
        "store": "no",
        "analyzer": "german"
      },
      "content": {
        "type": "string",
        "store": "no",
        "analyzer": "german"
      },
      "created": {
        "type": "date",
        "format": "date_time",
        "store": "no",
        "index": "analyzed"
      },
      "createdBy": {
        "type": "string",
        "store": "no",
        "index": "no"
      },
      "tags" : { 
        "type": "string", 
        "analyzer" : "keyword" 
      }
    }
  }
}'